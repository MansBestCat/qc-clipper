<!DOCTYPE html>
<html>
<head>
  <style>
    #cropOverlay {
      position: absolute;
      border: 2px dashed red;
      pointer-events: none;
      display: none;
    }
    #videoCaptureContainer {
      position: relative;
      display: inline-block;
    }
  </style>  
</head>
<body>

  <h2>Capture</h2>
  <div style="display:flex;">
    <button onclick="startCapture()">Start Capture</button>
    <button onclick="stopCapture()">Stop Capture</button>
  </div>
  <div id="videoCaptureContainer">
    <video id="videoCapture" width="640" controls></video>
    <div id="cropOverlay"></div>
  </div>

  <h2>Crop</h2>
  <div style="display:flex;">
    <button onclick="cropVideo()">Crop</button>
  </div>
  <div id="videoCroppedContainer">
    <video id="videoCropped" width="640" controls></video>
  </div>
   
  <h2>Extract and load</h2>
  <div style="display:flex;">
      <button onclick="extractFrames()">Extract and load frames</button>
  </div>
  
  <h2>Frames</h2>
  <img id="framePreview" width="640" />
  <div id="filmstrip" style="display: flex; gap: 4px; margin-top: 10px;"></div>
  <div style="display:flex;">  
    <button onclick="prevFrame()">← Prev</button>
    <button onclick="nextFrame()">Next →</button>
    <button onclick="deleteFrame()">🗑️ Delete</button>
  </div>
  <div style="display:flex;">
    <button id="previewToggleBtn"
     onclick="togglePreviewAnimation()">▶️ Play</button>
    <button onclick="togglePreviewLoop()">🔁 Toggle Loop</button>
    <label>Speed:
      <select onchange="setPreviewSpeed(parseInt(this.value))">
        <option value="10">10 FPS</option>
        <option value="15">15 FPS</option>
        <option value="24">24 FPS</option>
        <option value="30" selected>30 FPS</option>
        <option value="60">60 FPS</option>
      </select>
    </label>
  </div>


  <h2>Export</h2>
  <div style="display:flex;">
    <button onclick="exportToWebP()">Export to WebP</button>
  </div>


  <script src="renderer.js"></script>
</body>

</html>
